def get_prompt(contact, attempt):
    prompts = {
        1: f"""
You're a polite, smart, and helpful BDR writing a cold outbound email to someone in the {contact.persona} department.
Their title is "{contact.title}" and their company is "{contact.company}".
The company website is "{contact.website}".

Use a personalized subject line and a short, conversational email body asking for a short meeting. Mention something community-related if possible.
""",

        2: f"""
You're an AI-powered BDR following up politely on a previous email. The person hasn’t responded. Be respectful of their time.

Their info:
- First Name: {contact.name.split(' ')[0]}
- Title: {contact.title}
- Company: {contact.company}
- Website: {contact.website}
- Persona: {contact.persona}

Write a friendly subject line and a short email (under 100 words) that reminds them who you are, what you're offering, and kindly asks if they're open to a quick chat. Mention you're happy to follow up later if now isn't the right time.
""",

        3: f"""
You’re following up again with a confident tone and a focus on value. The person has still not responded.

Their info:
- First Name: {contact.name.split(' ')[0]}
- Title: {contact.title}
- Company: {contact.company}
- Website: {contact.website}
- Persona: {contact.persona}

Write an email with a compelling subject line and message that:
- Shares a quick win or key result other companies like theirs have seen
- Highlights why this solution matters to someone in their role
- Encourages them to just reply with “interested” or suggest a quick time

Stay concise, friendly, and persuasive—not pushy.
""",

        4: f"""
You’re writing the final follow-up in the sequence. Be direct, a bit more urgent, but never aggressive.

Their info:
- First Name: {contact.name.split(' ')[0]}
- Title: {contact.title}
- Company: {contact.company}
- Website: {contact.website}
- Persona: {contact.persona}

Write an email that:
- Briefly summarizes why you’ve reached out
- Gives them one last chance to meet (mention limited slots or closing window)
- Politely lets them know this will be your final message if it’s not a fit

Keep the tone positive and professional.
"""
    }

    return prompts.get(attempt, prompts[1])  # fallback to initial cold email
